<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tidy Interface to SARB data • sarbR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tidy Interface to SARB data">
<meta property="og:description" content="This package is designed to provide a tidy interface to the South African Reserve Bank's data. 
    Currently its main focus is the Quarterly Bulletin data, but aims to extend to other data releases as the package matures">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sarbR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/HanjoStudy/sarbR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">

<div id="sarbr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sarbr" class="anchor"></a>sarbR <img src="logo.png" align="right" alt="" width="120">
</h1></div>

<p>The goal of sarbR is to provide an easy interface to the monthly release of the South African Reserve Bank Quarterly Bulletin data. Although the SARB has many other datasets, the Quarterly Bulletin makes up the bulk of the statistical release.</p>
<p>At the time of the publication of this package (April 2019), the SARB still has no easy way of accessing the data through an programmatic interface (API). The maintainer/s <code>sarbR</code> package aim to fill this role by curating the data automatically from the SARB, updating a dedicated database and giving access to the data through the simple <code>sarb_code</code> function.</p>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<ul>
<li><p>This package is in no way endorsed or associated with the South African Reserve Bank.</p></li>
<li><p>Given that no formal API is provided, the maintainers of this package rely on their own infrastructure to collect, curate, clean, maintain an up to date database and give access through a securely built API.</p></li>
<li><p>Although the greatest care is taken to provide good data, the maintainer/s of this package take no responsibility in the service OR data being supplied.</p></li>
<li><p>This package uses self-signed certificates on the API’s side. This entails having to set <code>GET(..., config(ssl_verifypeer = 0))</code>, otherwise the get request returns: <code>SSL certificate problem: self signed certificate</code></p></li>
</ul>
</div>
</div>
<div id="flow-of-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#flow-of-the-package" class="anchor"></a>Flow of the package</h1>
<p>The package is built around the main <code>sarb_code</code> function, with two helper functions. The first providing a way to search for an indicator and its meta information: <code>search_indicator</code>. The second function is to request an access token for the API: <code>token_request</code>.</p>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<p>To install the package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install development version from GitHub</span>

devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"HanjoStudy/sarbR"</span>)</code></pre></div>
</div>
<div id="getting-a-request-token" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-a-request-token" class="anchor"></a>Getting a request token</h3>
<p>Because the database is maintained on a small server and the maintainer wishes to keep the server protected from malicious conduct, it was decided to implement requests on a token basis. This ensures some measure of security, a bit of analystics on request and hopefuly allows the small server to handle everyones request in an orderly manner.</p>
<blockquote>
<p>Once a token has been registered it is allowed to conduct 200 requests a day with a 1 second sleep between requests. This restriction will likely be lifted once workload is established.</p>
</blockquote>
<p>To request a token from the service follow 2 simple steps:</p>
<ul>
<li>Step 1: request a token</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/token_request.html">token_request</a></span>()

<span class="co">#&gt; Successful token creation</span>
<span class="co">#&gt; $status</span>
<span class="co">#&gt; [1] 200</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $msg</span>
<span class="co">#&gt; [1] "Successful token creation"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $info</span>
<span class="co">#&gt;           address                            token</span>
<span class="co">#&gt; 122.232.34.123 f84sdsfsdce65eege7dbacd93ac3dc073e364</span></code></pre></div>
<ul>
<li>Step 2: add token to environment or options in your <code>.Rprofile</code> or set it in your current session using:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">options</a></span>(<span class="st">"sarb.token"</span> =<span class="st"> "f84sdsfsdce65eege7dbacd93ac3dc073e364"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.setenv">Sys.setenv</a></span>(<span class="st">"sarb.token"</span> =<span class="st"> "f84sdsfsdce65eege7dbacd93ac3dc073e364"</span>)</code></pre></div>
<p>This way you will not need to send the token along when making a request for data</p>
</div>
<div id="sarb_code" class="section level3">
<h3 class="hasAnchor">
<a href="#sarb_code" class="anchor"></a>sarb_code</h3>
<p>The <code>sarb_code</code> function is the main function of the package. This functions interacts with a <code>plumber</code> API that has access to a MySQL database with the latest quarterly data.</p>
<p>To use request the data, the whole code needs to be provided. As an example, if you would like to reques <strong>Expenditure on gross domestic product</strong> at <strong>Current prices</strong> at a <strong>yearly</strong> frequency, you need to request <em>KBP6045J</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/sarb_code.html">sarb_code</a></span>(<span class="dt">code =</span> <span class="st">"KBP6045J"</span>)</code></pre></div>
<p>Or if the the token is not set as in the above mentioned manner (in the <code>.Rprofile</code>), then it can be passed along to the function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/sarb_code.html">sarb_code</a></span>(<span class="dt">code =</span> <span class="st">"KBP6045J"</span>, <span class="dt">token =</span> <span class="st">"f84sdsfsdce65eege7dbacd93ac3dc073e364"</span>)</code></pre></div>
</div>
<div id="looking-up-indicator-codes" class="section level3">
<h3 class="hasAnchor">
<a href="#looking-up-indicator-codes" class="anchor"></a>Looking up indicator codes</h3>
<p>The SARB provides various series with specific codes linked to a series: KBPXXXX. It can be difficult to know which series you are looking.</p>
<p>To help you find a specific frequency of a series (Monthly, Quarterly, Yearly) or just look in general for a series on say, GDP, we can use the <code>search_indicator</code> function. This function is a convenience wrapper around the <code>indicator_codes</code> dataset</p>
<p>Using the description to look for specific series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/search_indicator.html">search_indicator</a></span>(<span class="dt">description =</span> <span class="st">"Expenditure"</span>)
<span class="co">#&gt; # A tibble: 6 x 7</span>
<span class="co">#&gt;   time_series description_and_vers… series version_description      frequency unit_of_measure code  </span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;S3: glue&gt;            &lt;chr&gt;  &lt;chr&gt;                    &lt;chr&gt;     &lt;chr&gt;           &lt;S3: &gt;</span>
<span class="co">#&gt; 1 KBP6045     Expenditure on gross… C      Constant 2010 prices     K1        RMILL           KBP60…</span>
<span class="co">#&gt; 2 KBP6045     Expenditure on gross… D      Constant 2010 prices. S… K1        RMILL           KBP60…</span>
<span class="co">#&gt; 3 KBP6045     Expenditure on gross… J      Current prices           J1        RMILL           KBP60…</span>
<span class="co">#&gt; 4 KBP6045     Expenditure on gross… K      Current prices           K1        RMILL           KBP60…</span>
<span class="co">#&gt; 5 KBP6045     Expenditure on gross… L      Current prices. Seasona… K1        RMILL           KBP60…</span>
<span class="co">#&gt; 6 KBP6045     Expenditure on gross… Y      Constant 2010 prices     J1        RMILL           KBP60…</span></code></pre></div>
<p>Look up the time series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/search_indicator.html">search_indicator</a></span>(<span class="dt">time_series =</span> <span class="st">"KBP1000"</span>)

<span class="co">#&gt; # A tibble: 2 x 7</span>
<span class="co">#&gt;   time_series description_and_version        series version_descript… frequency unit_of_measure code  </span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;S3: glue&gt;                     &lt;chr&gt;  &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;           &lt;S3: &gt;</span>
<span class="co">#&gt; 1 KBP1000     South African Reserve Bank li… J      NA                J1        RMILL           KBP10…</span>
<span class="co">#&gt; 2 KBP1000     South African Reserve Bank li… M      NA                M1        RMILL           KBP10…</span></code></pre></div>
<p>You can also look up a specific series if you know the exact code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/search_indicator.html">search_indicator</a></span>(<span class="dt">code =</span> <span class="st">"KBP1000J"</span>)

<span class="co">#&gt; # A tibble: 2 x 7</span>
<span class="co">#&gt;   time_series description_and_version        series version_descript… frequency unit_of_measure code  </span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;S3: glue&gt;                     &lt;chr&gt;  &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;           &lt;S3: &gt;</span>
<span class="co">#&gt; 1 KBP1000     South African Reserve Bank li… J      NA                J1        RMILL           KBP10…</span></code></pre></div>
<p>The package also includes data that helps you understand the frequency column used in the <code>indicator_codes</code> dataset</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sarbR<span class="op">::</span>frequency_description

<span class="co">#&gt;   Description                           Frequency</span>
<span class="co">#&gt; 1          D6          Daily - Monday to Saturday</span>
<span class="co">#&gt; 2          W3              Weekly as on Wednesday</span>
<span class="co">#&gt; 3          W6         Weekly - Monday to Saturday</span>
<span class="co">#&gt; 4          M1                             Monthly</span>
<span class="co">#&gt; 5          K1                           Quarterly</span>
<span class="co">#&gt; 6          J1 Annually - 1 January to 31 December</span>
<span class="co">#&gt; 7          J2      Annually - 1 April to 31 March</span></code></pre></div>
</div>
<div id="dataset-requests" class="section level2">
<h2 class="hasAnchor">
<a href="#dataset-requests" class="anchor"></a>Dataset requests</h2>
<p>If you want to make a specific dataset available through the package, a request can be made through the issues page:</p>
<p><a href="https://github.com/HanjoStudy/sarbR/issues" class="uri">https://github.com/HanjoStudy/sarbR/issues</a></p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/HanjoStudy/sarbR">https://​github.com/​HanjoStudy/​sarbR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/HanjoStudy/sarbR/issues">https://​github.com/​HanjoStudy/​sarbR/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Hanjo Odendaal <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg"></a></li>
<li><a href="https://github.com/HanjoStudy/sarbR/commits/master"><img src="https://img.shields.io/github/last-commit/HanjoStudy/sarbR.svg"></a></li>
<li><a href="https://cran.r-project.org/package=sarbR"><img src="https://www.r-pkg.org/badges/version/sarbR" alt="CRAN Status"></a></li>
<li><a href="https://codecov.io/github/HanjoStudy/sarbR?branch=master"><img src="https://img.shields.io/codecov/c/github/HanjoStudy/sarbR/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://github.com/HanjoStudy/sarbR"><img src="https://img.shields.io/badge/devel%20version-0.0.0.9000-blue.svg"></a></li>
</ul>
</div>
</div>
</div>

      <footer><div class="copyright">
  <p>Developed by Hanjo Odendaal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
