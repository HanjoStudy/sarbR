<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Provides an Interface to an Author Maintained Database of SARB data (Title Case) • sarbR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Provides an Interface to an Author Maintained Database of SARB data (Title Case)">
<meta property="og:description" content="More about what it does (maybe more than one line)
    Use four spaces when indenting paragraphs within the Description.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sarbR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">

<div id="sarbr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sarbr" class="anchor"></a>sarbR</h1></div>
<p>The goal of sarbR is to provide an easy interface to the monthly release of the South African Reserve Bank Quarterly Bulletin data. Although the SARB has many other datasets, the Quarterly Bulletin makes up the bulk of the statistical release.</p>
<p>At the time of the publication of this package (April 2019), the SARB still has no easy way of accessing the data through an programmatic interface (API). The maintainer/s <code>sarbR</code> package aims to fill this role by curating the data automatically from the SARB, updating a dedicated database and giving access to the data through the simple <code>sarb_code</code> function.</p>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>Given that no formal API is provided, the maintainers of this package rely on their own infrastructure to collect, curate, clean, maintain an up to date database and give access through a securely built API. Although the greatest care is taken to provide good data, the maintainer/s of this package take no responsibility in the service OR data being supplied.</p>
</div>
</div>
<div id="flow-of-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#flow-of-the-package" class="anchor"></a>Flow of the package</h1>
<p>The package is built around the main <code>sarb_code</code> function, with two helper functions. The first providing a way to search for an indicator and its meta information: <code>search_indicator</code>. The second function is to request an access token for the API: <code>token_request</code>.</p>
<div id="getting-a-request-token" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-a-request-token" class="anchor"></a>Getting a request token</h3>
<p>Because the database is maintained on a small server and the maintainer wishes to keep the server protected from malicious conduct (to a certain degree - the security setup isn’t fort knox), it was decided to implement requests on a token basis. This ensures some measure of security, a bit of analystics on request and hopefuly allows the small server to handle everyones request in an orderly manner.</p>
<p>Once a token has been registered it is allowed to conduct 200 requests a day with a 1 second sleep between requests. This restriction will likely be lifted once workload is established.</p>
<p>To request a token from the service follow 2 simple steps:</p>
<ul>
<li>Step 1: request a token</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="reference/token_request.html">token_request</a></span>()

<span class="co">#&gt; Successful token creation</span>
<span class="co">#&gt; $status</span>
<span class="co">#&gt; [1] 200</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $msg</span>
<span class="co">#&gt; [1] "Successful token creation"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $info</span>
<span class="co">#&gt;           address                            token</span>
<span class="co">#&gt; 122.232.34.123 f84sdsfsdce65eege7dbacd93ac3dc073e364</span></code></pre></div>
<ul>
<li>Step 2: add token to environment or options in your <code>.Rprofile</code>
</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">options</a></span>(<span class="st">"sarb.token"</span> =<span class="st"> "hashhashhash"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.setenv">Sys.setenv</a></span>(<span class="st">"sarb.token"</span> =<span class="st"> "hashhashhash"</span>)</code></pre></div>
<p>This way you will not need to send the token along when making a request for data</p>
</div>
<div id="searching-code" class="section level2">
<h2 class="hasAnchor">
<a href="#searching-code" class="anchor"></a>Searching code</h2>
<p>The SARB provides various series with specific codes linked to a series: KBPXXXX. It can be difficult to know which series you are looking.</p>
<p>To help you find a specific frequency of a series (Monthly, Quarterly, Yearly) or just look in general for a series on say, GDP, we can use the <code>search_indicator</code> function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Using the description

<span class="kw"><a href="reference/search_indicator.html">search_indicator</a></span>(<span class="dt">description =</span> <span class="st">"Expenditure"</span>)
<span class="co">#&gt; # A tibble: 6 x 7</span>
<span class="co">#&gt;   time_series description_and_vers… series version_description      frequency unit_of_measure code  </span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;S3: glue&gt;            &lt;chr&gt;  &lt;chr&gt;                    &lt;chr&gt;     &lt;chr&gt;           &lt;S3: &gt;</span>
<span class="co">#&gt; 1 KBP6045     Expenditure on gross… C      Constant 2010 prices     K1        RMILL           KBP60…</span>
<span class="co">#&gt; 2 KBP6045     Expenditure on gross… D      Constant 2010 prices. S… K1        RMILL           KBP60…</span>
<span class="co">#&gt; 3 KBP6045     Expenditure on gross… J      Current prices           J1        RMILL           KBP60…</span>
<span class="co">#&gt; 4 KBP6045     Expenditure on gross… K      Current prices           K1        RMILL           KBP60…</span>
<span class="co">#&gt; 5 KBP6045     Expenditure on gross… L      Current prices. Seasona… K1        RMILL           KBP60…</span>
<span class="co">#&gt; 6 KBP6045     Expenditure on gross… Y      Constant 2010 prices     J1        RMILL           KBP60…</span>

## Using the code

<span class="kw"><a href="reference/search_indicator.html">search_indicator</a></span>(<span class="dt">time_series_code =</span> <span class="st">"KBP1000"</span>)

<span class="co">#&gt; # A tibble: 2 x 7</span>
<span class="co">#&gt;   time_series description_and_version        series version_descript… frequency unit_of_measure code  </span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;S3: glue&gt;                     &lt;chr&gt;  &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;           &lt;S3: &gt;</span>
<span class="co">#&gt; 1 KBP1000     South African Reserve Bank li… J      NA                J1        RMILL           KBP10…</span>
<span class="co">#&gt; 2 KBP1000     South African Reserve Bank li… M      NA                M1        RMILL           KBP10…</span></code></pre></div>
</div>
</div>
<div id="development-guidelines" class="section level1">
<h1 class="hasAnchor">
<a href="#development-guidelines" class="anchor"></a>Development guidelines</h1>
<p>Use of packages:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(devtools)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(usethis)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(pkgdown)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(testthat)</code></pre></div>
<p>Maybe add some nice message colors with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(crayon)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cat">cat</a></span>(crayon<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/crayon/topics/crayon">red</a></span>(<span class="st">"This is red"</span>), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)
<span class="co">#&gt; This is red</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cat">cat</a></span>(crayon<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/crayon/topics/crayon">blue</a></span>(<span class="st">"This is blue</span><span class="ch">\n</span><span class="st">"</span>), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)
<span class="co">#&gt; This is blue</span>
<span class="co">#&gt; </span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/message">message</a></span>(crayon<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/crayon/topics/crayon">green</a></span>(<span class="st">"This is green"</span>))
<span class="co">#&gt; This is green</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/warning">warning</a></span>(crayon<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/crayon/topics/crayon">bold</a></span>(<span class="st">"This is bold"</span>))
<span class="co">#&gt; Warning: This is bold</span>
Some text

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/stop">stop</a></span>(crayon<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/crayon/topics/crayon">italic</a></span>(<span class="st">"This is italic"</span>))</code></pre></div>
<p>For version control I am using <code>git flow</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> flow init

<span class="fu">git</span> flow feature start [name]
<span class="fu">git</span> add .
<span class="fu">git</span> commit -m
<span class="fu">git</span> flow feature finish  [name]

<span class="fu">git</span> flow hotfix start [name]
<span class="fu">git</span> add .
<span class="fu">git</span> commit -m
<span class="fu">git</span> flow hotfix finish  [name]

<span class="co"># Push to master</span>
<span class="fu">git</span> flow release start [name]
<span class="fu">git</span> add .
<span class="fu">git</span> commit -m
<span class="fu">git</span> flow release finish [name]</code></pre></div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.com/XXX">https://​github.com/​XXX</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>The package maintainer <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>

      <footer><div class="copyright">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
